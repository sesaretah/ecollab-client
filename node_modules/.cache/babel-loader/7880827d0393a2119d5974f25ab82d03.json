{"ast":null,"code":"import { EventEmitter } from \"events\";\nimport dispatcher from \"../dispatcher\";\n\nclass ModelStore extends EventEmitter {\n  constructor() {\n    super();\n    this.list = [];\n    this.multipleList = [];\n    this.instance = null;\n    this.klass = null;\n    this.reason = null;\n  }\n\n  listModel(list) {\n    this.list = [];\n    this.klass = list.klass;\n\n    for (var i = 0, len = list.data.length; i < len; ++i) {\n      this.list.push(list.data[i]);\n\n      if (i === len - 1) {\n        this.emit(\"got_list\");\n      }\n    }\n\n    if (list.data.length == 0) {\n      this.emit(\"got_list\");\n    }\n  }\n\n  listMultipleModel(list) {\n    this.multipleList = list.data;\n    this.klass = list.klass;\n    this.emit(\"got_multiple_list\");\n  }\n\n  showIntance(instance) {\n    this.klass = instance.klass;\n    this.instance = instance.data;\n    this.emit(\"got_instance\");\n  }\n\n  setIntance(instance) {\n    this.klass = instance.klass;\n    this.instance = instance.data;\n    this.emit(\"set_instance\");\n  }\n\n  deleteIntance(instance) {\n    this.klass = instance.klass;\n    this.instance = instance.data;\n    this.emit(\"deleted_instance\");\n  }\n\n  postFile(instance) {\n    console.log(instance);\n    this.klass = instance.klass;\n    this.instance = instance.data;\n    this.emit(\"file_posted\");\n  }\n\n  setIntanceFailure(reason) {\n    console.log(reason);\n    this.reason = 'Error';\n    this.klass = '';\n    this.emit(\"set_instance\");\n  }\n\n  getReason() {\n    return this.reason;\n  }\n\n  getIntance() {\n    return this.instance;\n  }\n\n  getList() {\n    return this.list;\n  }\n\n  getListnKlass() {\n    return [this.list, this.klass];\n  }\n\n  getMutipleList() {\n    return this.multipleList;\n  }\n\n  getKlass() {\n    return this.klass;\n  }\n\n  handleActions(action) {\n    switch (action.type) {\n      case \"LIST_MODEL_SUCCESS\":\n        {\n          this.listModel(action.list);\n          break;\n        }\n\n      case \"MULTIPLE_LIST_MODEL_SUCCESS\":\n        {\n          this.listMultipleModel(action.list);\n          break;\n        }\n\n      case \"GET_INSTANCE_SUCCESS\":\n        {\n          this.showIntance(action.instance);\n          break;\n        }\n\n      case \"DELETE_INSTANCE_SUCCESS\":\n        {\n          this.deleteIntance(action.instance);\n          break;\n        }\n\n      case \"SET_INSTANCE_SUCCESS\":\n        {\n          this.setIntance(action.instance);\n          break;\n        }\n\n      case \"POST_FILE_SUCCESS\":\n        {\n          this.postFile(action.instance);\n          break;\n        }\n\n      case \"SET_INSTANCE_FAILURE\":\n        {\n          console.log(action);\n          this.setIntanceFailure(action.reason);\n          break;\n        }\n    }\n  }\n\n}\n\nconst modelStore = new ModelStore();\ndispatcher.register(modelStore.handleActions.bind(modelStore));\nexport default modelStore;","map":{"version":3,"sources":["/Users/hosseinshafiei/Projects/ecollab/client/src/stores/ModelStore.js"],"names":["EventEmitter","dispatcher","ModelStore","constructor","list","multipleList","instance","klass","reason","listModel","i","len","data","length","push","emit","listMultipleModel","showIntance","setIntance","deleteIntance","postFile","console","log","setIntanceFailure","getReason","getIntance","getList","getListnKlass","getMutipleList","getKlass","handleActions","action","type","modelStore","register","bind"],"mappings":"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","sourcesContent":["import { EventEmitter } from \"events\";\n\nimport dispatcher from \"../dispatcher\";\n\nclass ModelStore extends EventEmitter {\n  constructor() {\n    super()\n    this.list = [];\n    this.multipleList = [];\n    this.instance = null;\n    this.klass= null;\n    this.reason = null;\n  }\n\n  listModel(list){\n    this.list = [];\n    this.klass = list.klass\n    for (var i = 0, len = list.data.length; i < len; ++i) {\n      this.list.push(list.data[i]);\n      if (i === len - 1 ) {\n        this.emit(\"got_list\");\n      }\n    }\n    if(list.data.length == 0){\n      this.emit(\"got_list\");\n    }\n\n  }\n\n\n  listMultipleModel(list){\n    this.multipleList = list.data;\n    this.klass = list.klass\n    this.emit(\"got_multiple_list\");\n  }\n\n  showIntance(instance){\n    this.klass = instance.klass\n    this.instance = instance.data\n    this.emit(\"got_instance\");\n  }\n\n  setIntance(instance){\n    this.klass = instance.klass\n    this.instance = instance.data\n    this.emit(\"set_instance\");\n  }\n\n\n  deleteIntance(instance){\n    this.klass = instance.klass\n    this.instance = instance.data\n    this.emit(\"deleted_instance\");\n  }\n\n  postFile(instance){\n    console.log(instance)\n    this.klass = instance.klass\n    this.instance = instance.data\n    this.emit(\"file_posted\");\n  }\n\n  setIntanceFailure(reason){\n    console.log(reason)\n    this.reason = 'Error'\n    this.klass = ''\n    this.emit(\"set_instance\");\n  }\n\n  getReason(){\n    return this.reason\n  }\n\n  getIntance() {\n    return this.instance\n  }\n\n  getList(){\n    return this.list\n  }\n\n  getListnKlass(){\n    return [this.list, this.klass]\n  }\n\n\n  getMutipleList(){\n    return this.multipleList\n  }\n\n  getKlass(){\n    return this.klass\n  }\n\n  handleActions(action) {\n    switch(action.type) {\n      case \"LIST_MODEL_SUCCESS\": {\n        this.listModel(action.list);\n        break;\n      }\n      case \"MULTIPLE_LIST_MODEL_SUCCESS\": {\n        this.listMultipleModel(action.list);\n        break;\n      }\n      case \"GET_INSTANCE_SUCCESS\": {\n        this.showIntance(action.instance);\n        break;\n      }\n      case \"DELETE_INSTANCE_SUCCESS\": {\n        this.deleteIntance(action.instance);\n        break;\n      }\n      case \"SET_INSTANCE_SUCCESS\": {\n        this.setIntance(action.instance);\n        break;\n      }\n      case \"POST_FILE_SUCCESS\": {\n        this.postFile(action.instance);\n        break;\n      }\n      case \"SET_INSTANCE_FAILURE\": {\n        console.log(action)\n        this.setIntanceFailure(action.reason);\n        break;\n      }\n\n      \n    }\n  }\n}\n\n\nconst modelStore = new ModelStore;\ndispatcher.register(modelStore.handleActions.bind(modelStore));\n\nexport default modelStore;\n"]},"metadata":{},"sourceType":"module"}