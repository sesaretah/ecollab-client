{"ast":null,"code":"import dispatcher from \"../dispatcher\";\nimport axios, { put } from 'axios';\nimport { conf } from '../conf';\nconst server = conf.server; //const server='/v1';\n//const server='http://95.156.255.115/api';\n\nexport function getList(model, page = 1, params = {}, token) {\n  var queryString = Object.keys(params).map(key => key + '=' + params[key]).join('&');\n  axios.get(server + '/' + model + '?page=' + page + '&' + queryString, {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': \"bearer \" + token\n    }\n  }).then(function (response) {\n    dispatcher.dispatch({\n      type: \"LIST_MODEL_SUCCESS\",\n      list: response.data\n    });\n  }).catch(function (error) {\n    console.log(error);\n  });\n}\nexport function fileUpload(model, id, file, token) {\n  const url = server + '/' + model;\n  const formData = new FormData();\n  formData.append('upload[attached_document]', file); //formData.append('profile[id]',id)\n\n  const config = {\n    headers: {\n      'content-type': 'multipart/form-data',\n      'Authorization': \"bearer \" + token\n    }\n  };\n  axios.post(url, formData, config).then(function (response) {\n    dispatcher.dispatch({\n      type: \"POST_FILE_SUCCESS\",\n      instance: response.data\n    });\n  }).catch(function (error) {\n    console.log(error);\n  });\n}\nexport function getInstance(model, id, token, page = 1) {\n  axios.get(server + '/' + model + '/' + id + '?page=' + page, {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': \"bearer \" + token\n    }\n  }).then(function (response) {\n    dispatcher.dispatch({\n      type: \"GET_INSTANCE_SUCCESS\",\n      instance: response.data\n    });\n  }).catch(function (error) {\n    console.log(error);\n  });\n}\nexport function removeInstance(model, params = {}, token) {\n  var queryString = Object.keys(params).map(key => key + '=' + params[key]).join('&');\n  axios.get(server + '/' + model + '/delete?' + queryString, {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': \"bearer \" + token\n    }\n  }).then(function (response) {\n    dispatcher.dispatch({\n      type: \"DELETE_INSTANCE_SUCCESS\",\n      instance: response.data\n    });\n  }).catch(function (error) {\n    console.log(error);\n  });\n}\nexport function setInstance(model, data, token) {\n  axios.post(server + '/' + model + '/', data, {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': \"bearer \" + token\n    }\n  }).then(function (response) {\n    dispatcher.dispatch({\n      type: \"SET_INSTANCE_SUCCESS\",\n      instance: response.data\n    });\n  }).catch(function (error) {\n    dispatcher.dispatch({\n      type: \"SET_INSTANCE_FAILURE\",\n      instance: error.reason\n    });\n    console.log(error);\n  });\n}\nexport function updateInstance(model, data, token) {\n  axios.put(server + '/' + model + '/' + data.id, data, {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': \"bearer \" + token\n    }\n  }).then(function (response) {\n    dispatcher.dispatch({\n      type: \"SET_INSTANCE_SUCCESS\",\n      instance: response.data\n    });\n  }).catch(function (error) {\n    console.log(error);\n  });\n}","map":{"version":3,"sources":["/Users/hosseinshafiei/Projects/ecollab/client/src/actions/MyActions.js"],"names":["dispatcher","axios","put","conf","server","getList","model","page","params","token","queryString","Object","keys","map","key","join","get","headers","then","response","dispatch","type","list","data","catch","error","console","log","fileUpload","id","file","url","formData","FormData","append","config","post","instance","getInstance","removeInstance","setInstance","reason","updateInstance"],"mappings":"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","sourcesContent":["import dispatcher from \"../dispatcher\";\nimport axios, {put} from 'axios';\nimport { conf } from '../conf';\nconst server= conf.server;\n//const server='/v1';\n//const server='http://95.156.255.115/api';\n\n\nexport function getList(model, page=1, params={}, token) {\n  var queryString = Object.keys(params).map(key => key + '=' + params[key]).join('&');\n  axios.get(server + '/'+ model +'?page='+page+'&'+queryString, { headers: {'Content-Type': 'application/json', 'Authorization': \"bearer \" + token } })\n  .then(function (response) {\n    dispatcher.dispatch({\n      type: \"LIST_MODEL_SUCCESS\",\n      list: response.data,\n    });\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n}\n\nexport function fileUpload(model, id , file, token){\n  const url = server + '/'+ model;\n  const formData = new FormData();\n  formData.append('upload[attached_document]',file)\n  //formData.append('profile[id]',id)\n  const config = {\n      headers: {\n          'content-type': 'multipart/form-data',\n          'Authorization': \"bearer \" + token \n      }\n  }\n  axios.post(url, formData,config).then(function (response) {\n    dispatcher.dispatch({\n      type: \"POST_FILE_SUCCESS\",\n      instance: response.data,\n    });\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n}\n\nexport function getInstance(model, id, token, page=1) {\n  axios.get(server + '/'+ model +'/'+id+'?page='+page, { headers: {'Content-Type': 'application/json', 'Authorization': \"bearer \" + token } })\n  .then(function (response) {\n    dispatcher.dispatch({\n      type: \"GET_INSTANCE_SUCCESS\",\n      instance: response.data,\n    });\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n}\n\nexport function removeInstance(model, params={}, token ) {\n  var queryString = Object.keys(params).map(key => key + '=' + params[key]).join('&');\n  axios.get(server + '/'+ model +'/delete?'+queryString, { headers: {'Content-Type': 'application/json', 'Authorization': \"bearer \" + token } })\n  .then(function (response) {\n    dispatcher.dispatch({\n      type: \"DELETE_INSTANCE_SUCCESS\",\n      instance: response.data,\n    });\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n}\n\nexport function setInstance(model, data, token) {\n  axios.post(server + '/'+ model +'/', data, { headers: {'Content-Type': 'application/json', 'Authorization': \"bearer \" + token } })\n  .then(function (response) {\n    dispatcher.dispatch({\n      type: \"SET_INSTANCE_SUCCESS\",\n      instance: response.data,\n    });\n  })\n  .catch(function (error) {\n    dispatcher.dispatch({\n      type: \"SET_INSTANCE_FAILURE\",\n      instance: error.reason,\n    });\n    console.log(error);\n  });\n}\n\nexport function updateInstance(model, data, token) {\n  axios.put(server + '/'+ model +'/'+data.id, data, { headers: {'Content-Type': 'application/json', 'Authorization': \"bearer \" + token } })\n  .then(function (response) {\n    dispatcher.dispatch({\n      type: \"SET_INSTANCE_SUCCESS\",\n      instance: response.data,\n    });\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n}\n"]},"metadata":{},"sourceType":"module"}